/*!
 * @Compiled: Sat Aug 20 2016 06:14:58 GMT-0400 (Eastern Daylight Time).
 * @Description: An experimental interactive space scene rendered on the browser using WebGL and Three.js
 * @Author: Rainner Lins | @raintek_ | <rainnerlins@gmail.com>
 */
/* Source: Device.js */ 
!function(e,t){"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?module.exports=t:window&&(window[e]=t())}("Device",function(){var e=window,t=window.screen,n=document.body,i=document.documentElement;return{screenWidth:function(){return Math.max(0,e.innerWidth||i.clientWidth||n.clientWidth||0)},screenHeight:function(){return Math.max(0,e.innerHeight||i.clientHeight||n.clientHeight||0)},screenRatio:function(){return this.screenWidth()/this.screenHeight()},screenCenterX:function(){return this.screenWidth()/2},screenCenterY:function(){return this.screenHeight()/2},screenInfo:function(){return{width:this.screenWidth(),height:this.screenHeight(),ratio:this.screenRatio(),centerX:this.screenCenterX(),centerY:this.screenCenterY()}},pageWidth:function(){return Math.max(0,n.scrollWidth||0,n.offsetWidth||0,i.clientWidth||0,i.offsetWidth||0,i.scrollWidth||0)},pageHeight:function(){return Math.max(0,n.scrollHeight||0,n.offsetHeight||0,i.clientHeight||0,i.offsetHeight||0,i.scrollHeight||0)},pageRatio:function(){return this.pageWidth()/this.pageHeight()},pageCenterX:function(){return this.pageWidth()/2},pageCenterY:function(){return this.pageHeight()/2},pageScrollX:function(){return Math.max(0,e.pageXOffset||i.scrollLeft||n.scrollLeft||0)-(i.clientLeft||0)},pageScrollY:function(){return Math.max(0,e.pageYOffset||i.scrollTop||n.scrollTop||0)-(i.clientTop||0)},pageScrollMinX:function(){return 0},pageScrollMaxX:function(){return Math.max(0,Math.floor(this.pageWidth()-this.screenWidth()))},pageScrollMinY:function(){return 0},pageScrollMaxY:function(){return Math.max(0,Math.floor(this.pageHeight()-this.screenHeight()))},pageInfo:function(){return{width:this.pageWidth(),height:this.pageHeight(),ratio:this.pageRatio(),centerX:this.pageCenterX(),centerY:this.pageCenterY(),scrollX:this.pageScrollX(),scrollMinX:this.pageScrollMinX(),scrollMaxX:this.pageScrollMaxX(),scrollY:this.pageScrollY(),scrollMinY:this.pageScrollMinY(),scrollMaxY:this.pageScrollMaxY()}},mouseX:function(e){return e?Math.max(0,e.pageX||e.clientX||0):0},mouseY:function(e){return e?Math.max(0,e.pageY||e.clientY||0):0},mouseCenterX:function(e){return this.mouseX(e)-this.screenWidth()/2},mouseCenterY:function(e){return this.mouseY(e)-this.screenHeight()/2},mouseInfo:function(e){return{left:this.mouseX(e),top:this.mouseY(e),centerX:this.mouseCenterX(e),centerY:this.mouseCenterY(e)}},deviceCenterX:function(e){var t=this.orientation();if(e&&null!==e.beta&&null!==e.gamma){if(0===t)return e.gamma;if(180===t)return e.gamma*-1;if(90===t)return e.beta;if(t===-90)return e.beta*-1}return 0},deviceCenterY:function(e){var t=this.orientation();if(e&&null!==e.beta&&null!==e.gamma){if(0===t)return e.beta;if(180===t)return e.beta;if(90===t)return e.gamma*-1;if(t===-90)return e.gamma}return 0},deviceInfo:function(e){return{angle:this.orientation(),centerX:this.deviceCenterX(e),centerY:this.deviceCenterY(e)}},orientX:function(t){return e.orientation||this.isMobile()?this.deviceCenterX():this.mouseCenterX()},orientY:function(t){return e.orientation||this.isMobile()?this.deviceCenterY():this.mouseCenterY()},orientation:function(){var n=0;if("orientation"in e)n=e.orientation||0;else if("orientation"in t||"mozOrientation"in t||"msOrientation"in t)switch(t.orientation||t.mozOrientation||t.msOrientation||""){case"portrait-primary":n=0;break;case"portrait-secondary":n=180;break;case"landscape-primary":n=90;break;case"landscape-secondary":n=-90}else"matchMedia"in e&&e.matchMedia("(orientation: landscape)").matches?n=this.isMobile()?90:0:this.screenWidth()>this.screenHeight()&&(n=this.isMobile()?90:0);return n},isMobile:function(){var e=navigator.userAgent||navigator.vendor||window.opera||"";return!!/^.*(android|webos|iphone|ipad|ipod|blackberry|phone|playbook|xda|xiino|silk|mobile).*$/i.test(e)}}});

/* Source: Stage.js */ 
!function(e,t){"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?module.exports=t:window&&(window[e]=t())}("Stage",function(){var e=function(e,t){this.id=e&&"string"==typeof e?e:"three-stage",this.width=0,this.height=0,this.ease=20,this.zoom=600,this.move={x:0,y:0,z:200},this.look={x:0,y:0,z:0},this.started=!1,this.loaded=!1,this.ready=!1,this.camera=null,this.scene=null,this.renderer=null,this.light=null,this.events={},this.objects=[],this.error="",this.timer={last:0,fps:0},this.preload={textures:{},total:0,loaded:0},this.keymap={enter:13,tab:9,esc:27,"return":8,space:32,up:38,down:40,left:37,right:39},this.onResize=this.onResize.bind(this),this.onScroll=this.onScroll.bind(this),this.onMouse=this.onMouse.bind(this),this.onClick=this.onClick.bind(this),this.onPress=this.onPress.bind(this),this.onRelease=this.onRelease.bind(this),this.onKeyboard=this.onKeyboard.bind(this),this.onOrientation=this.onOrientation.bind(this),this.onFrame=this.onFrame.bind(this),this.triggerEvent=this.triggerEvent.bind(this),this.drawFrame=this.drawFrame.bind(this),this.init=this.init.bind(this);try{this.renderer=this.resolveRenderer(t||{}),this.camera=new THREE.PerspectiveCamera(60,Device.screenInfo().ratio,.1,2e4),this.light=new THREE.SpotLight(16777215,1,3e3,.4,.5,1),this.scene=new THREE.Scene,this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setClearColor(0,0),this.renderer.sortObjects=!0,this.camera.position.set(this.move.x,this.move.y,this.move.z),this.camera.rotation.set(this.look.x,this.look.y,this.look.z),this.camera.lookAt(this.scene.position),this.light.position.set(this.move.x,this.move.y,this.move.z),this.scene.add(this.light),this.ready=!0}catch(i){this.error=i}};return e.prototype={constructor:e,webglSupport:function(){try{var e=document.createElement("canvas");return!(!window.WebGLRenderingContext||!e.getContext("webgl")&&!e.getContext("experimental-webgl"))}catch(t){return!1}},canvasSupport:function(){return!!window.CanvasRenderingContext2D},setupEvents:function(){window.addEventListener("resize",this.onResize,!1),window.addEventListener("scroll",this.onScroll,!1),window.addEventListener("click",this.onClick,!1),window.addEventListener("mousemove",this.onMouse,!1),window.addEventListener("mousedown",this.onPress,!1),window.addEventListener("touchstart",this.onPress,!1),window.addEventListener("mouseup",this.onRelease,!1),window.addEventListener("touchend",this.onRelease,!1),window.addEventListener("keydown",this.onKeyboard,!1),window.addEventListener("deviceorientation",this.onOrientation,!1),this.triggerEvent("onEventsAdded",Date.now())},setupStage:function(){this.renderer&&this.renderer.domElement&&(this.renderer.domElement.setAttribute("id",this.id),this.renderer.domElement.style.display="block",this.renderer.domElement.style.position="fixed",this.renderer.domElement.style.width="100%",this.renderer.domElement.style.height="100%",this.renderer.domElement.style["z-index"]="-1",this.triggerEvent("onStageAdded",this.renderer.domElement),document.body.appendChild(this.renderer.domElement))},resolveRenderer:function(e){if(e=e||{},this.webglSupport()&&THREE.WebGLRenderer)return new THREE.WebGLRenderer(e);throw"It appears that this web browser just doesn't have what is needed to display the visual effects on this page. This page requires WebGL technology to be available in order to render 3D graphics in the browser. Hop on another browser and try again later."},isLoaded:function(){return!(this.preload.total>0)||this.preload.loaded===this.preload.total},preloadTexture:function(e,t){if(this.ready&&e&&"string"==typeof e&&t&&"string"==typeof t&&this.preload.textures.hasOwnProperty(e)!==!0){this.preload.textures[e]=new THREE.Texture,this.preload.total+=1;var i=function(t){this.triggerEvent("onTextureLoaded",t),this.preload.textures[e]=t,this.preload.loaded+=1},s=function(e){var i="Could not pre-load texture graphic file ("+t+").";this.triggerEvent("onTextureError",i),this.preload.loaded+=1},n=function(e){var i="Pre-loading file ("+t+"), "+e.loaded/e.total*100+"% complete...";this.triggerEvent("onTextureProgress",i)};try{var r=new THREE.TextureLoader;r.crossOrigin="",r.load(t,i.bind(this),n.bind(this),s.bind(this))}catch(o){this.triggerEvent("onError","There was a problem trying to load a texture file ("+t+") : "+o)}}},getTexture:function(e){return this.ready?e&&"string"==typeof e&&this.preload.textures.hasOwnProperty(e)?this.preload.textures[e]:new THREE.Texture:null},addObject:function(e){"object"==typeof e&&("function"==typeof e.onSetup&&e.onSetup.call(e,this),this.objects.push(e))},addToScene:function(e){this.scene&&"object"==typeof e&&this.scene.add(e)},removeFromScene:function(e){this.scene&&"object"==typeof e&&this.scene.remove(e)},onResize:function(e){var t=Device.screenInfo();this.width=t.width,this.height=t.height,this.ready&&(this.renderer.setSize(this.width,this.height),this.camera.aspect=this.width/this.height,this.camera.updateProjectionMatrix()),this.triggerEvent("onResize",t)},onScroll:function(e){var t=Device.pageInfo();this.triggerEvent("onScroll",t)},onMouse:function(e){var t=Device.mouseInfo(e);this.triggerEvent("onMouse",t)},onClick:function(e){var t=Device.mouseInfo(e);this.triggerEvent("onClick",t)},onPress:function(e){var t=Device.mouseInfo(e);this.triggerEvent("onPress",t)},onRelease:function(e){var t=Device.mouseInfo(e);this.triggerEvent("onRelease",t)},onKeyboard:function(e){var t=e.keyCode||e.charCode||e.which||-1;t===this.keymap.enter&&this.triggerEvent("onEnter",t),t===this.keymap.tab&&this.triggerEvent("onTab",t),t===this.keymap.esc&&this.triggerEvent("onEscape",t),t===this.keymap["return"]&&this.triggerEvent("onReturn",t),t===this.keymap.space&&this.triggerEvent("onSpace",t),t===this.keymap.up&&this.triggerEvent("onUp",t),t===this.keymap.down&&this.triggerEvent("onDown",t),t===this.keymap.left&&this.triggerEvent("onLeft",t),t===this.keymap.right&&this.triggerEvent("onRight",t),this.triggerEvent("onKeyboard",t)},onOrientation:function(e){var t=Device.deviceInfo(e);this.triggerEvent("onOrientation",t)},onFrame:function(e){this.camera&&(this.camera.position.x+=(this.move.x-this.camera.position.x)/this.ease,this.camera.position.y+=(this.move.y-this.camera.position.y)/this.ease,this.camera.position.z+=(this.move.z-this.camera.position.z)/this.ease,this.camera.rotation.x+=(this.look.x-this.camera.rotation.x)/this.ease,this.camera.rotation.y+=(this.look.y-this.camera.rotation.y)/this.ease,this.camera.rotation.z+=(this.look.z-this.camera.rotation.z)/this.ease),this.triggerEvent("onFrame",e)},onEvent:function(e,t){e&&"string"==typeof e&&"function"==typeof t&&(this.events[e]=t)},triggerEvent:function(e,t){if(this.ready){var i=0,s=this.objects.length,n=null;if(e&&"string"==typeof e){for(i;i<s;++i)n=this.objects[i],"function"==typeof n[e]&&n[e].call(n,this,t);this.events.hasOwnProperty(e)&&this.events[e].call(this,t)}}},getFps:function(e){return e="string"==typeof e?e:"fps",this.timer.fps+" "+e},drawFrame:function(e){this.ready&&document.hasFocus()&&(this.onFrame(e),this.renderer.render(this.scene,this.camera),this.timer.fps=Math.floor(1e3/(e-this.timer.last)),this.timer.last=e),requestAnimationFrame(this.drawFrame)},init:function(){return this.ready&&!this.started?(this.triggerEvent("onProgress",Math.floor(this.preload.loaded/this.preload.total*100)+"%"),this.isLoaded()!==!0?void setTimeout(this.init,100):(this.setupStage(),this.setupEvents(),this.onResize(),this.triggerEvent("onInit",Date.now()),this.drawFrame(0),void(this.started=!0))):void this.triggerEvent("onError",this.error)}},e});

/* Source: Nebula.js */ 
!function(t,e){"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?module.exports=e:window&&(window[t]=e())}("Nebula",function(){var t=function(){this.group=null,this.texture=null,this.cylinder=null,this.light=null,this.ready=!1,this.ease=12,this.cycle=2e-4,this.move={x:0,y:0,z:-4e3},this.look={x:0,y:0,z:0},this.hyper=!1};return t.prototype={constructor:t,onSetup:function(t){t.preloadTexture("nebula","dist/images/water.jpg")},onInit:function(t){this.group=new THREE.Object3D,this.group.position.set(this.move.x,this.move.y,this.move.z),this.group.rotation.set(this.look.x,this.look.y,this.look.z),this.texture=t.getTexture("nebula"),this.texture.wrapT=THREE.RepeatWrapping,this.texture.wrapS=THREE.RepeatWrapping;var e=new THREE.MeshLambertMaterial({color:16777215,opacity:0,map:this.texture,blending:THREE.AdditiveBlending,side:THREE.BackSide,transparent:!1,depthTest:!1});this.cylinder=new THREE.Mesh(new THREE.CylinderGeometry(2e3,0,1e4,30,30,(!0)),e),this.cylinder.position.set(0,0,0),this.cylinder.rotation.x=Math.PI/2,this.light=new THREE.PointLight(16777215,1.5,1e4),this.light.position.set(0,0,1e3),this.changeColor(t),this.group.add(this.cylinder),this.group.add(this.light),t.addToScene(this.group),this.ready=!0},onMouse:function(t,e){this.hyper||(this.move.x=-(.002*e.centerX),this.move.y=.002*e.centerY,this.look.y=-(1e-4*e.centerX),this.look.x=-(1e-4*e.centerY))},onOrientation:function(t,e){this.hyper||(this.move.x=-(.6*e.centerX),this.move.y=.6*e.centerY,this.look.y=-(.002*e.centerX),this.look.x=-(.002*e.centerY))},onFrame:function(t,e){this.ready&&(this.look.z+=this.cycle,this.texture.offset.y-=this.cycle,this.texture.needsUpdate=!0,this.group.position.x+=(this.move.x-this.group.position.x)/this.ease,this.group.position.y+=(this.move.y-this.group.position.y)/this.ease,this.group.position.z+=(this.move.z-this.group.position.z)/this.ease,this.group.rotation.x+=(this.look.x-this.group.rotation.x)/this.ease,this.group.rotation.y+=(this.look.y-this.group.rotation.y)/this.ease,this.group.rotation.z+=(this.look.z-this.group.rotation.z)/this.ease)},changeColor:function(t){var e=new THREE.Color;e.setHSL(Math.random(),1,.5),this.light.color=e},hyperStart:function(t){this.light.color=new THREE.Color(13430527),this.cycle+=.005,this.move.z-=2e3,this.hyper=!0},hyperStop:function(t){this.changeColor(t),this.cycle-=.005,this.move.z+=2e3,this.hyper=!1}},t});

/* Source: Stars.js */ 
!function(t,o){"function"==typeof define&&define.amd?define([],o):"object"==typeof exports?module.exports=o:window&&(window[t]=o())}("Stars",function(){var t=function(){this.total=600,this.spread=3e3,this.near=140,this.size=54,this.ease=12,this.distance=-3e3,this.move={x:0,y:0,z:this.distance},this.look={x:0,y:0,z:0},this.group=null,this.geometry=null,this.material=null,this.colors=[],this.rands=[],this.ready=!1,this.hyper=!1};return t.prototype={constructor:t,onSetup:function(t){t.preloadTexture("star","dist/images/star.png")},onInit:function(t){this.group=new THREE.Object3D,this.group.position.set(this.move.x,this.move.y,this.move.z-1e3),this.group.rotation.set(this.look.x,this.look.y,this.look.z),this.createStars(t),t.addToScene(this.group),this.ready=!0},onMouse:function(t,o){this.hyper||(this.move.x=-(.2*o.centerX),this.move.y=.2*o.centerY,this.look.y=-(2e-4*o.centerX),this.look.x=-(2e-4*o.centerY))},onOrientation:function(t,o){this.hyper||(this.move.x=-(.6*o.centerX),this.move.y=.6*o.centerY,this.look.y=-(.002*o.centerX),this.look.x=-(.002*o.centerY))},onFrame:function(t,o){this.ready&&(this.group.position.x+=(this.move.x-this.group.position.x)/this.ease,this.group.position.y+=(this.move.y-this.group.position.y)/this.ease,this.group.position.z+=(this.move.z-this.group.position.z)/this.ease,this.group.rotation.x+=(this.look.x-this.group.rotation.x)/this.ease,this.group.rotation.y+=(this.look.y-this.group.rotation.y)/this.ease,this.group.rotation.z+=(this.look.z-this.group.rotation.z)/this.ease,this.look.z-=8e-4)},createStars:function(t){this.colors=[],this.rands=[],this.geometry=new THREE.Geometry,this.material=new THREE.PointsMaterial({size:this.size,color:16777215,opacity:1,map:t.getTexture("star"),blending:THREE.AdditiveBlending,vertexColors:!0,transparent:!0,depthTest:!0});for(var o=0;o<this.total;o++){var i=THREE.Math.randInt(0,this.spread),s=Math.random()*Math.PI*2,e=new THREE.Color;e.setHSL(THREE.Math.randFloat(.5,.6),1,.8);var h=new THREE.Vector3(Math.cos(s)*i,Math.sin(s)*i,THREE.Math.randInt(-this.spread,0));this.colors.push(e),this.rands.push({angle:Math.random()*Math.PI}),this.geometry.vertices.push(h)}this.geometry.colors=this.colors,this.group.add(new THREE.Points(this.geometry,this.material))},zoomIn:function(){this.hyper||(this.move.z=this.distance+400)},zoomOut:function(){this.hyper||(this.move.z=this.distance)},hyperStart:function(t){this.ease+=100,this.move.z-=5e3,this.hyper=!0},hyperStop:function(t){this.ease-=100,this.move.z+=5e3,this.hyper=!1}},t});

/* Source: Planets.js */ 
!function(t,e){"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?module.exports=e:window&&(window[t]=e())}("Planets",function(){var t=function(){this.total=3,this.loaded=0,this.ease=18,this.radius=180,this.distance=-100,this.move={x:0,y:0,z:this.distance},this.look={x:0,y:0,z:0},this.planets=[],this.group=null,this.ready=!1,this.hyper=!1};return t.prototype={constructor:t,onSetup:function(t){t.preloadTexture("planet1","dist/images/planet1.jpg"),t.preloadTexture("planet2","dist/images/planet2.jpg"),t.preloadTexture("planet3","dist/images/planet3.jpg"),t.preloadTexture("planet4","dist/images/planet4.jpg"),t.preloadTexture("planet5","dist/images/planet5.jpg"),t.preloadTexture("water","dist/images/water.jpg"),t.preloadTexture("moon","dist/images/moon.jpg")},onInit:function(t){this.createPlanets(t),this.addPlanets(t),this.ready=!0},onMouse:function(t,e){this.hyper||(this.move.x=-(.4*e.centerX),this.move.y=.4*e.centerY)},onOrientation:function(t,e){this.hyper||(this.move.x=-(6.5*e.centerX),this.move.y=6.5*e.centerY)},onFrame:function(t,e){if(this.ready){if(!this.hyper)for(var i=6e-5*e,o=i*Math.PI,n=250,s=0;s<this.group.children.length;s++)this.group.children[s].rotation.z-=5e-4,this.group.children[s].children.length&&(this.group.children[s].children[0]&&(this.group.children[s].children[0].rotation.y-=.0025),this.group.children[s].children[1]&&(this.group.children[s].children[1].position.y=Math.sin(o)*n,this.group.children[s].children[1].position.z=Math.cos(o)*n,this.group.children[s].children[1].rotation.z+=.01));this.group.position.x+=(this.move.x-this.group.position.x)/this.ease,this.group.position.y+=(this.move.y-this.group.position.y)/this.ease,this.group.position.z+=(this.move.z-this.group.position.z)/this.ease,this.group.rotation.x+=(this.look.x-this.group.rotation.x)/this.ease,this.group.rotation.y+=(this.look.y-this.group.rotation.y)/this.ease,this.group.rotation.z+=(this.look.z-this.group.rotation.z)/this.ease,this.look.z+=3e-4}},createPlanets:function(t){this.planets=[];for(var e=100,i=0;i<5;i++){var o=new THREE.Mesh(new THREE.SphereGeometry(e,40,40),new THREE.MeshLambertMaterial({color:16777215,map:t.getTexture("planet"+(i+1)),side:THREE.FrontSide,blending:THREE.AdditiveBlending,transparent:!1,depthTest:!0})),n=new THREE.Mesh(new THREE.SphereGeometry(e+4,40,40),new THREE.MeshLambertMaterial({color:16777215,opacity:1,map:t.getTexture("water"),side:THREE.FrontSide,blending:THREE.AdditiveBlending,transparent:!0,depthTest:!0}));if(o.add(n),3===THREE.Math.randInt(1,3)){var s=new THREE.Mesh(new THREE.SphereGeometry(.15*e,30,30),new THREE.MeshLambertMaterial({color:16777215,map:t.getTexture("moon"),side:THREE.FrontSide,blending:THREE.AdditiveBlending,transparent:!1,depthTest:!0}));o.add(s)}this.planets.push(o)}},addPlanets:function(t){this.group=new THREE.Object3D,this.group.position.set(this.move.x,this.move.y,this.move.z+1e3),this.group.rotation.set(this.look.x,this.look.y,this.look.z);for(var e=this.planets.length,i=THREE.Math.randInt(1,2),o=THREE.Math.randInt(0,e-1),n=0;n<e;n++)if(!(n+1>i)){o+=1,o=o>e-1?0:o;var s=THREE.Math.randFloat(-1e3,-500),r=THREE.Math.randPie(500,n+1,i),h=this.planets[o];h.position.set(r.x,r.y,s),h.rotation.set(r.x,r.y,s),this.group.add(h)}t.addToScene(this.group)},removePlanets:function(t){t.removeFromScene(this.group)},zoomIn:function(){this.hyper||(this.move.z=this.distance+800)},zoomOut:function(){this.hyper||(this.move.z=this.distance)},hyperStart:function(t){this.removePlanets(t),this.hyper=!0},hyperStop:function(t){this.addPlanets(t),this.hyper=!1}},t});

/* Source: Wormhole.js */ 
!function(t,e){"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?module.exports=e:window&&(window[t]=e())}("Wormhole",function(){var t=function(){this.group=null,this.texture=null,this.ready=!1,this.hyper=!1,this.ease=10,this.hype={normal:5e-4,slow:5e-4,scale:1,speed:10,upRatio:1.06,upScale:1.06,downRatio:1.85,downScale:1.85}};return t.prototype={constructor:t,onSetup:function(t){t.preloadTexture("wormhole","dist/images/water.jpg")},onInit:function(t){this.createWormhole(t),this.ready=!0},onMouse:function(t,e){},onFrame:function(t,e){if(this.ready){if(this.hyper)return this.hype.slow=this.hype.slow>=this.hype.speed?this.hype.speed:this.hype.slow*this.hype.upRatio,this.hype.scale=this.hype.scale<=.1?.1:this.hype.scale/this.hype.upScale,this.texture.offset.y-=this.hype.normal*this.hype.slow,this.texture.needsUpdate=!0,this.group.scale.set(this.hype.scale,this.hype.scale,1),this.group.rotation.x=t.camera.rotation.x,this.group.rotation.y=t.camera.rotation.y,this.group.rotation.z=t.camera.rotation.z,this.group.position.x=t.camera.position.x,this.group.position.y=t.camera.position.y,this.group.position.z=t.camera.position.z,void(this.group.rotation.z-=.008);this.hype.slow=this.hype.slow<=1?1:this.hype.slow/this.hype.downRatio,this.hype.scale=this.hype.scale>=1?1:this.hype.scale*this.hype.downScale}},createWormhole:function(t){this.group=new THREE.Object3D,this.group.position.z=t.camera.position.z,this.texture=t.getTexture("wormhole"),this.texture.wrapT=THREE.RepeatWrapping,this.texture.wrapS=THREE.RepeatWrapping;var e=new THREE.CylinderGeometry(100,0,300,40,40,(!0)),o=new THREE.MeshLambertMaterial({color:16777215,opacity:1,map:this.texture,blending:THREE.AdditiveBlending,side:THREE.BackSide,transparent:!0,depthTest:!0}),i=new THREE.Color;i.setHSL(Math.random(),1,.8);var s=new THREE.PointLight(i,4,100);s.position.set(0,0,0);var h=new THREE.Mesh(e,o);h.position.set(0,0,0),h.rotation.x=Math.PI/2,this.group.add(h),this.group.add(s)},hyperStart:function(t){t.addToScene(this.group),this.hyper=!0},hyperStop:function(t){t.removeFromScene(this.group),this.hyper=!1}},t});