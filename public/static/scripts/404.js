(function(){!function(t){"use strict";var n=function(n,i){if(this._el=t(n),this.repeat())return!0;this._settings=i,this._powerOn=!1,this._loopTimeout=0,this._el.html(this.buildHTML()),this._items=this._el.find("span.novacancy"),this._blinkArr=this.arrayMake(),this.bindEvent(),this.writeCSS(),this._settings.autoOn&&this.blinkOn()};n.prototype.repeat=function(){var t=this._el;return!!t[0].novacancy||(t[0].novacancy=!0,!1)},n.prototype.writeCSS=function(){var n=this.css(),i=t("<style>"+n+"</style>");t("body").append(i)},n.prototype.selector=function(){var t=this._el,n=t[0].tagName;return t[0].id&&(n+="#"+t[0].id),t[0].className&&(n+="."+t[0].className),n},n.prototype.css=function(){var t=this.selector(),n=this._settings,i="text-shadow: "+n.glow.toString()+";",o="";return o+=t+" .novacancy.on { "+("color: "+n.color+";"+i)+" }\n",o+=t+" .novacancy.off { "+("color: "+n.color+"; opacity: 0.3;")+" }\n"},n.prototype.rand=function(t,n){return Math.floor(Math.random()*(n-t+1)+t)},n.prototype.isNumber=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},n.prototype.blink=function(t){var n=this._settings,i=this;this.off(t),t[0].blinking=!0,setTimeout(function(){i.on(t),t[0].blinking=!1,i.reblink(t)},this.rand(n.blinkMin,n.blinkMax))},n.prototype.reblink=function(t){var n=this._settings,i=this;setTimeout(function(){i.rand(1,100)<=n.reblinkProbability&&i.blink(t)},this.rand(n.blinkMin,n.blinkMax))},n.prototype.on=function(t){t.removeClass("off").addClass("on")},n.prototype.off=function(t){t.removeClass("on").addClass("off")},n.prototype.buildHTML=function(){var n=this._el,i="";return t.each(n.contents(),function(n,o){if(3==o.nodeType){var e=o.nodeValue.split("");t.each(e,function(t,n){i+='<span class="novacancy on">'+n+"</span>"})}else i+=o.outerHTML}),i},n.prototype.arrayMake=function(){this._el;var n,i=this._settings,o=this._items,e=o.length,r=this.randomArray(e),s=i.off,a=i.blink,l=this;return s=Math.min(s,e),s=Math.max(0,s),n=r.splice(0,s),t.each(n,function(n,i){l.off(t(o[i]))}),a=0===a?e:a,a=Math.min(a,e-s),a=Math.max(0,a),r.splice(0,a)},n.prototype.randomArray=function(t){var n,i,o,e=[];for(n=0;n<t;++n)e[n]=n;for(n=0;n<t;++n)o=e[i=parseInt(Math.random()*t,10)],e[i]=e[n],e[n]=o;return e},n.prototype.loop=function(){if(this._powerOn){this._el;var n=this._settings,i=this._blinkArr,o=this._items;if(0!==i.length){var e,r,s=this;e=i[this.rand(0,i.length-1)],(r=t(o[e]))[0].blinking||this.blink(r),this._loopTimeout=setTimeout(function(){s.loop()},this.rand(n.loopMin,n.loopMax))}}},n.prototype.blinkOn=function(){if(!this._powerOn){var t=this._settings,n=this;this._powerOn=!0,this._loopTimeout=setTimeout(function(){n.loop()},this.rand(t.loopMin,t.loopMax))}},n.prototype.blinkOff=function(){this._powerOn&&(this._powerOn=!1,clearTimeout(this._loopTimeout))},n.prototype.bindEvent=function(){var t=this._el,n=this;t.on("blinkOn",function(t){n.blinkOn()}),t.on("blinkOff",function(t){n.blinkOff()})};var i=function(n){var i=t.extend({reblinkProbability:1/3,blinkMin:.01,blinkMax:.5,loopMin:.5,loopMax:2,color:"ORANGE",glow:["0 0 80px Orange","0 0 30px Red","0 0 6px Yellow"],off:0,blink:0,autoOn:!0},n);return i.reblinkProbability*=100,i.blinkMin*=1e3,i.blinkMax*=1e3,i.loopMin*=1e3,i.loopMax*=1e3,i};t.fn.novacancy=function(o){return t.each(this,function(t,e){new n(this,i(o))})}}(jQuery),$(function(){return $("#error").novacancy({reblinkProbability:.1,blinkMin:.2,blinkMax:.6,loopMin:8,loopMax:10,color:"#ffffff",glow:["0 0 80px #ffffff","0 0 30px #008000","0 0 6px #0000ff"]}),$("#code").novacancy({blink:1,off:1,color:"Red",glow:["0 0 80px Red","0 0 30px FireBrick","0 0 6px DarkRed"]})})}).call(this);