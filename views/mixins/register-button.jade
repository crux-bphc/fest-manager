mixin cartActionsMixin(event, user)
    script(src="/static/scripts/register-button.js")
    link(href="/static/stylesheets/register-button.css" rel="stylesheet")
    div.cart-actions
        - if(typeof user !== 'undefined')
            - if(user.events.indexOf(event._id) != -1)
                div.subscribed.cartButton(onclick="RegisterButton.remove(this, '#{event._id}')")
                    i.icon-check
                    span Registered
            - else if(event.teamSize > 1)
                div.latent(tabindex="1")
                    div.add_to_cart.cartButton
                        i.icon-add_shopping_cart
                        span Register
                    div.new_team.cartButton(onclick="RegisterButton.add(this, '#{event._id}')")
                        i.icon-add_box
                        span New Team
                    div.join_team.cartButton(onclick="RegisterButton.join(this, '#{event._id}')")
                        i.icon-group_add
                        span Join Team
            - else
                div.add_to_cart.cartButton(onclick="RegisterButton.add(this, '#{event._id}')")
                    i.icon-add_shopping_cart
                    span Register
        - else
            div.add_to_cart.cartButton(_route="/login?callback=/events/#{event.route}")
                i.icon-add_shopping_cart
                span Register